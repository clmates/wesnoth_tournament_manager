# Debug logs
BACKEND_DEBUG_LOGS="true"

# Balance system
BALANCE_MIN_GAMES_THRESHOLD="5"

# Tournament Manager Database (MariaDB)
DB_HOST="localhost"
DB_USER="tournament"
DB_PASSWORD=""
DB_NAME="wesnoth_db"
DB_PORT="3306"

# phpBB Forum Database connection (for Wesnoth authentication)
# Uses the same MariaDB server with different database
PHPBB_DB_HOST="localhost"
PHPBB_DB_USER="forum"
PHPBB_DB_PASSWORD=""
PHPBB_DB_NAME="forum"

# Wesnoth Forum Database (wesnothd_game_* tables for replay processing)
# Contains game metadata from Wesnoth's game server
# If not specified, falls back to PHPBB_DB_* or main DB_* settings
FORUM_DB_HOST="localhost"
FORUM_DB_USER="forum"
FORUM_DB_PASSWORD=""
FORUM_DB_NAME="forum"
FORUM_DB_PORT="3306"

# Discord integration (optional, for tournament announcements)
DISCORD_BOT_TOKEN=""
DISCORD_ENABLED="false"
DISCORD_FORUM_CHANNEL_ID=""
DISCORD_GUILD_ID=""
DISCORD_WEBHOOK_URL_ADMIN=""
DISCORD_WEBHOOK_URL_USERS=""

# Frontend
FRONTEND_URL="http://localhost:5173"

# Auth/JWT
JWT_SECRET="your-secret-key-here-min-32-chars"
JWT_EXPIRATION="7d"

# Node environment
NODE_ENV="development"

# Backend port
PORT="3000"

# Supabase (deprecated - kept for compatibility)
SUPABASE_SERVICE_ROLE_KEY=""
SUPABASE_URL=""

# Email service (optional - MailerSend)
MAILERSEND_API_TOKEN=""
MAILERSEND_API_URL=""
MAILERSEND_SENDER_EMAIL=""

# ============================================================================
# Forum Database-Driven Replay Processing
# ============================================================================

# Wesnoth version to monitor in forum database
# The system will query wesnothd_game_* tables for games of this version
# Example: 1.18, 1.16, 1.17.x
WESNOTH_VERSION="1.18"

# ============================================================================
# Tournament Addon Configuration
# ============================================================================

# UUID or ID of the tournament addon
# This addon must be present in forum game data to qualify as a tournament match
# The system queries wesnothd_game_content_info to verify addon presence
# If not found, the game is skipped (not tournament related)
# 
# Examples:
#   tournament-addon
#   wesnoth-tournament-v1.18
#   Your-org-tournament-addon-uuid
REPLAY_ADDON_FILTER=tournament-addon

# ============================================================================
# Replay Processing Configuration
# ============================================================================

# Maximum concurrent replay parses
# How many replays to parse at the same time
# Recommended: 3-5 (depends on CPU and available memory)
REPLAY_MAX_CONCURRENT_PARSES=3

# Parse timeout per replay (milliseconds)
# If parsing takes longer, abort and mark as error
REPLAY_PARSE_TIMEOUT_MS=60000

# Batch size for forum sync queries
# How many games to fetch from forum database in one query
# Recommended: 1000 (to stay within reasonable query limits)
REPLAY_SYNC_BATCH_SIZE=1000

# ============================================================================
# Logging & Monitoring
# ============================================================================

# Log level for replay processing
# Options: debug, info, warn, error
REPLAY_LOG_LEVEL=info

# Enable detailed parsing logs?
# Creates replay_parsing_logs table entries for debugging
REPLAY_DEBUG_PARSING=false

# ============================================================================
# Notification Configuration (optional)
# ============================================================================

# Notify winner when auto-reported match is created?
REPLAY_NOTIFY_WINNER=true

# Notify loser when auto-reported match is created?
REPLAY_NOTIFY_LOSER=true

# Email template for notifications (if email enabled)
REPLAY_WINNER_EMAIL_TEMPLATE=match_confirmed

